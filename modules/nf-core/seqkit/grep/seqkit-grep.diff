Changes in component 'nf-core/seqkit/grep'
Changes in 'seqkit/grep/environment.yml':
--- modules/nf-core/seqkit/grep/environment.yml
+++ modules/nf-core/seqkit/grep/environment.yml
@@ -1,7 +1,7 @@
-name: seqkit_grep
+---
+# yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/environment-schema.json
 channels:
   - conda-forge
   - bioconda
-  - defaults
 dependencies:
-  - bioconda::seqkit=2.4.0
+  - bioconda::seqkit=2.9.0

Changes in 'seqkit/grep/meta.yml':
--- modules/nf-core/seqkit/grep/meta.yml
+++ modules/nf-core/seqkit/grep/meta.yml
@@ -1,4 +1,3 @@
----
 # yaml-language-server: $schema=https://raw.githubusercontent.com/nf-core/modules/master/modules/yaml-schema.json
 name: "seqkit_grep"
 description: Select sequences from a large file based on name/ID
@@ -9,46 +8,48 @@
   - grep
 tools:
   - "seqkit":
-      description: Cross-platform and ultrafast toolkit for FASTA/Q file manipulation, written by Wei Shen.
+      description: Cross-platform and ultrafast toolkit for FASTA/Q file manipulation,
+        written by Wei Shen.
       homepage: https://bioinf.shenwei.me/seqkit/usage/
       documentation: https://bioinf.shenwei.me/seqkit/usage/
       tool_dev_url: https://github.com/shenwei356/seqkit/
       doi: "10.1371/journal.pone.0163962"
       licence: ["MIT"]
+      identifier: biotools:seqkit
 input:
-  - meta:
-      type: map
-      description: >
-        Groovy Map containing sample information e.g. [ id:'test', single_end:false ]
-
-  - sequence:
-      type: file
-      description: >
-        Fasta or fastq file containing sequences to be filtered
-
-      pattern: "*.{fa,fna,faa,fasta,fq,fastq}[.gz]"
-  - pattern:
-      type: file
-      description: >
-        pattern file (one record per line). If no pattern is given, a string can be specificied within the args using '-p pattern_string'
-
-      pattern: "*.{txt,tsv}"
+  - - meta:
+        type: map
+        description: >
+          Groovy Map containing sample information e.g. [ id:'test', single_end:false
+          ]
+    - sequence:
+        type: file
+        description: >
+          Fasta or fastq file containing sequences to be filtered
+        pattern: "*.{fa,fna,faa,fasta,fq,fastq}[.gz]"
+  - - pattern:
+        type: file
+        description: >
+          pattern file (one record per line). If no pattern is given, a string can be
+          specified within the args using '-p pattern_string'
+        pattern: "*.{txt,tsv}"
 output:
-  - meta:
-      type: map
-      description: >
-        Groovy Map containing sample information e.g. [ id:'test', single_end:false ]
-
+  - filter:
+      - meta:
+          type: map
+          description: >
+            Groovy Map containing sample information e.g. [ id:'test', single_end:false
+            ]
+      - "*.{fa,fq}.gz":
+          type: file
+          description: >
+            Fasta or fastq file containing the filtered sequences
+          pattern: "*.{fa,fq}[.gz]"
   - versions:
-      type: file
-      description: File containing software versions
-      pattern: "versions.yml"
-  - filter:
-      type: file
-      description: >
-        Fasta or fastq file containing the filtered sequences
-
-      pattern: "*.{fa,fq}[.gz]"
+      - versions.yml:
+          type: file
+          description: File containing software versions
+          pattern: "versions.yml"
 authors:
   - "@Joon-Klaps"
 maintainers:

Changes in 'seqkit/grep/main.nf':
--- modules/nf-core/seqkit/grep/main.nf
+++ modules/nf-core/seqkit/grep/main.nf
@@ -5,11 +5,11 @@
 
     conda "${moduleDir}/environment.yml"
     container "${ workflow.containerEngine == 'singularity' && !task.ext.singularity_pull_docker_container ?
-        'https://depot.galaxyproject.org/singularity/seqkit:2.4.0--h9ee0642_0':
-        'biocontainers/seqkit:2.4.0--h9ee0642_0' }"
+        'https://depot.galaxyproject.org/singularity/seqkit:2.9.0--h9ee0642_0':
+        'biocontainers/seqkit:2.9.0--h9ee0642_0' }"
 
     input:
-    tuple val(meta), path(sequence)
+    tuple val(meta), path(sequence, name: "input.fasta.gz")
     path pattern
 
     output:
@@ -32,7 +32,7 @@
         $args \\
         --threads $task.cpus \\
         ${pattern_file} \\
-        ${sequence} \\
+        input.fasta.gz \\
         -o ${prefix}.${suffix}.gz \\
 
     cat <<-END_VERSIONS > versions.yml
@@ -48,7 +48,7 @@
     def suffix = task.ext.suffix ?: "${sequence}" ==~ /(.*f[astn]*a(.gz)?$)/ ? "fa" : "fq"
 
     """
-    touch ${prefix}.${suffix}.gz
+    echo "" | gzip > ${prefix}.${suffix}.gz
 
     cat <<-END_VERSIONS > versions.yml
     "${task.process}":

'modules/nf-core/seqkit/grep/tests/main.nf.test.snap' was created
'modules/nf-core/seqkit/grep/tests/tags.yml' was created
'modules/nf-core/seqkit/grep/tests/nextflow.config' was created
'modules/nf-core/seqkit/grep/tests/main.nf.test' was created
************************************************************
